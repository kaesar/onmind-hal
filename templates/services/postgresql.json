{
  "name": "postgresql-service",
  "description": "PostgreSQL database service",
  "commands": {
    "install": [
      "docker pull postgres:15-alpine"
    ],
    "setup": [
      "mkdir -p ~/wsdata/postgresql/data",
      "docker volume create postgres_data"
    ],
    "run": "docker run -d --name postgresql --network {{networkName}} -p 5432:5432 -e POSTGRES_DB=homelab -e POSTGRES_USER=homelab -e POSTGRES_PASSWORD={{databasePassword}} -v postgres_data:/var/lib/postgresql/data postgres:15-alpine"
  },
  "variables": ["networkName", "databasePassword"],
  "ports": ["5432:5432"],
  "volumes": [
    "postgres_data:/var/lib/postgresql/data"
  ],
  "environment": {
    "POSTGRES_DB": "homelab",
    "POSTGRES_USER": "homelab",
    "POSTGRES_PASSWORD": "{{databasePassword}}"
  },
  "accessUrl": "postgresql://homelab:{{databasePassword}}@{{ip}}:5432/homelab",
  "dependencies": [],
  "isCore": false
}