name: MongoDB Database Server
description: NoSQL document database
commands:
  install:
    - docker pull mongo:latest
  setup:
    - docker volume create mongodb_data
  run: |-
    docker run \
          -d \
          --name mongodb \
          --network {{NETWORK_NAME}} \
          -p 27017:27017 \
          -v mongodb_data:/data/db \
          -e MONGO_INITDB_ROOT_USERNAME=admin \
          -e MONGO_INITDB_ROOT_PASSWORD={{STORAGE_PASSWORD}} mongo:latest
variables:
  - NETWORK_NAME
  - STORAGE_PASSWORD
volumes:
  - mongodb_data:/data/db
environment:
  MONGO_INITDB_ROOT_USERNAME: admin
  MONGO_INITDB_ROOT_PASSWORD: "{{STORAGE_PASSWORD}}"
dependencies: []
accessUrl: mongodb://admin:{{STORAGE_PASSWORD}}@{{IP}}:27017/admin
